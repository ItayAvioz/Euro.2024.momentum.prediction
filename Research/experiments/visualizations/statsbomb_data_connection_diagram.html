<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StatsBomb Data Connection Flow</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-style: italic;
        }
        .diagram-container {
            background: white;
            padding: 20px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            margin: 20px 0;
        }
        .instructions {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
        }
        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>StatsBomb Data Connection Flow</h1>
        <p class="subtitle">How to connect matches â†’ events â†’ lineups â†’ 360Â° data for specific competitions and seasons</p>
        
        <div class="diagram-container">
            <div class="mermaid">
graph TD
    A["ğŸ† Step 1: Select Competition & Season<br/>Example: UEFA Euro 2024<br/>competition_id: 55<br/>season_id: 282"] --> B["ğŸ“‹ Step 2: Get competitions.json<br/>Filter by competition_id + season_id"]
    
    B --> C["ğŸ“… Step 3: Get Match List<br/>URL: data/matches/{competition_id}/{season_id}.json<br/>Example: data/matches/55/282.json"]
    
    C --> D["ğŸ” Step 4: Select Specific Match<br/>Extract match_id from match list<br/>Example: match_id = 3943043"]
    
    D --> E["âš½ Step 5A: Get Match Events<br/>URL: data/events/{match_id}.json<br/>Example: data/events/3943043.json<br/>~3,400 events per match"]
    
    D --> F["ğŸ‘¥ Step 5B: Get Match Lineups<br/>URL: data/lineups/{match_id}.json<br/>Example: data/lineups/3943043.json<br/>Starting XI + substitutes"]
    
    D --> G["ğŸ¯ Step 5C: Get 360Â° Data<br/>URL: data/three-sixty/{match_id}.json<br/>Example: data/three-sixty/3943043.json<br/>Player positions (if available)"]
    
    H["ğŸ”— Key Connection Fields"] --> I["competition_id + season_id<br/>â†’ Find matches"]
    I --> J["match_id<br/>â†’ Find events/lineups/360Â°"]
    J --> K["player_id<br/>â†’ Connect across all data"]
    J --> L["team_id<br/>â†’ Connect team data"]
    
    M["ğŸ“Š Data Analysis Examples"] --> N["Events Data:<br/>â€¢ Pass events<br/>â€¢ Shot events<br/>â€¢ Foul events<br/>â€¢ Goal events"]
    M --> O["Lineups Data:<br/>â€¢ Player positions<br/>â€¢ Formation data<br/>â€¢ Substitution timing"]
    M --> P["360Â° Data:<br/>â€¢ Player tracking<br/>â€¢ Pressure situations<br/>â€¢ Tactical context"]
    
    Q["ğŸ¯ For Your Project"] --> R["Commentary Generation:<br/>â€¢ Extract event descriptions<br/>â€¢ Add location context<br/>â€¢ Generate natural language"]
    Q --> S["Move Quality Prediction:<br/>â€¢ Sequence analysis<br/>â€¢ Pressure context<br/>â€¢ Expected outcomes"]
    
    E --> N
    F --> O
    G --> P
    
    N --> R
    O --> R
    P --> S
    
    style A fill:#e3f2fd
    style C fill:#f3e5f5
    style E fill:#e8f5e8
    style F fill:#fff3e0
    style G fill:#fce4ec
    style H fill:#f1f8e9
    style M fill:#fef7e0
    style Q fill:#e0f2f1
            </div>
        </div>
        
        <div class="instructions">
            <h3>ğŸ“· How to Save This Diagram as an Image:</h3>
            <ol>
                <li><strong>Right-click</strong> on the diagram above</li>
                <li>Select <strong>"Save image as..."</strong> or <strong>"Copy image"</strong></li>
                <li>Save it as <code>statsbomb_data_connection_flow.png</code> in your project folder</li>
            </ol>
            <p><strong>Alternative:</strong> Take a screenshot of the diagram area and save it to your project.</p>
        </div>

        <div style="margin-top: 30px;">
            <h3>ğŸ”— Key Data Connection Points:</h3>
            
            <div class="code-example">
# Example: Connect data for UEFA Euro 2024
competition_id = 55
season_id = 282

# Step 1: Get matches
matches_url = f"data/matches/{competition_id}/{season_id}.json"

# Step 2: Select a match
match_id = 3943043  # Example match ID

# Step 3: Get all data for this match
events_url = f"data/events/{match_id}.json"
lineups_url = f"data/lineups/{match_id}.json"
threesixty_url = f"data/three-sixty/{match_id}.json"
            </div>
            
            <h3>ğŸ“Š Data Connection Summary:</h3>
            <ul>
                <li><strong>competition_id + season_id</strong> â†’ Find all matches in that competition/season</li>
                <li><strong>match_id</strong> â†’ Find events, lineups, and 360Â° data for that specific match</li>
                <li><strong>player_id</strong> â†’ Connect player information across events and lineups</li>
                <li><strong>team_id</strong> â†’ Connect team information across all data types</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html> 